/*! burly.js 2016-03-25 */
!function(a){"use strict";function b(a){return a.match(i)}function c(a){return"function"==typeof a}function d(b,d){var e,f=d,g=[];b.indexOf(":")>-1?(b=b.split(":"),g=b.splice(1),e=b[0].split(".")):e=b.split(".");for(var h=0;h<e.length;h++)f=f[e[h]];return c(f)?f.apply(a,g):f}function e(a,b,c){this.root=!1,this.nodes={},this.token=0,this.run(a,b,c)}function f(){var a={};this.build=function(b,c,d){var f;d!==!0&&(d=!1),a[b]?a[b].update(b,c,d):(f=new e(b,c,d),a[b]=f)}}var g={},h=["PRE","CODE"],i=/\{\{\s*(\S+)\s*\}\}/g,j=/\{\{\s*(\S+)\s*\}\}/;"undefined"!==a.QUnit&&(a.Bind=e,a.BindFactory=f,a.Util={curlyRe:b,isFunction:c,getValue:d}),e.prototype.update=function(a,b,c){this.run(a,b,c)},e.prototype.nodeBuilder=function(a,c){var d=a.childNodes[c].nodeValue;d&&b(d)&&(this.nodes[this.token]={el:a,binding:b(d),origin:d,key:c},++this.token)},e.prototype.traverseDOM=function(a){for(var b=0;b<a.childNodes.length;b++)"#text"===a.childNodes[b].nodeName&&this.nodeBuilder(a,b);for(var c=0;c<a.childElementCount;c++)-1===h.indexOf(a.children[c].nodeName)&&this.traverseDOM(a.children[c])},e.prototype.bindData=function(a){var b,c,e;for(var f in this.nodes){b=this.nodes[f],c=b.key,b.el.childNodes[c].nodeValue=b.origin;for(var g=0;g<b.binding.length;g++)e=j.exec(b.binding[g]),b.el.childNodes[c].nodeValue=b.el.childNodes[c].nodeValue.replace(e[0],d(e[1],a))}},e.prototype.run=function(a,b,c){var d;if(!this.root){d=document.querySelectorAll("[data-bind]");for(var e=0;e<d.length;e++)d[e].dataset.bind===a&&(this.root=d[e])}if(!this.root)throw"undefined view: "+a;this.root&&!this.nodes.length&&this.traverseDOM(this.root),this.bindData(b),c&&(console.log("Name: ",this.root.dataset.bind),console.log("Target: ",this.root),console.log("Nodes: ",this.nodes),console.log("Data: ",b))};var k=new f;g.render=function(a,b,c){k.build(a,b,c)},a.Burly=g}(this);