/*! burly.js 2015-10-28 */
!function(a){"use strict";function b(a){return a.match(g)}function c(a,b,c){this.root=!1,this.nodes={},this.token=0,this.run(a,b,c)}function d(){var a={};this.build=function(b,d,e){var f;"undefined"==typeof e&&(e=!1),a[b]?a[b].update(b,d,e):(f=new c(b,d,e),a[b]=f)}}var e={},f=["PRE","CODE"],g=/\{\{\s*(\w+)\s*\}\}/g,h=/\{\{\s*(\w+)\s*\}\}/;"undefined"!==a.QUnit&&(a.Bind=c,a.Bind_factory=d,a.Util={curlyRe:b}),c.prototype.update=function(a,b,c){this.run(a,b,c)},c.prototype.node_builder=function(a,c){var d=a.childNodes[c].nodeValue;d&&b(d)&&(this.nodes[this.token]={el:a,binding:b(d),origin:d,key:c},++this.token)},c.prototype.traverse_DOM=function(a){for(var b=0;b<a.childNodes.length;b++)"#text"===a.childNodes[b].nodeName&&this.node_builder(a,b);for(var c=0;c<a.childElementCount;c++)-1===f.indexOf(a.children[c].nodeName)&&this.traverse_DOM(a.children[c])},c.prototype.bind_data=function(a){var b,c;for(var d in this.nodes){b=this.nodes[d],c=b.key,b.el.childNodes[c].nodeValue=b.origin;for(var e=0;e<b.binding.length;e++)b.el.childNodes[c].nodeValue=b.el.childNodes[c].nodeValue.replace(h.exec(b.binding[e])[0],a[h.exec(b.binding[e])[1]])}},c.prototype.run=function(a,b,c){var d;if(!this.root){d=document.querySelectorAll("[data-bind]");for(var e=0;e<d.length;e++)d[e].dataset.bind===a&&(this.root=d[e])}if(!this.root)throw"undefined view: "+a;this.root&&!this.nodes.length&&this.traverse_DOM(this.root),this.bind_data(b),c&&(console.log("Name: ",this.root.dataset.bind),console.log("Target: ",this.root),console.log("Nodes: ",this.nodes),console.log("Data: ",b))};var i=new d;e.render=function(a,b,c){i.build(a,b,c)},a.Burly=e}(this);