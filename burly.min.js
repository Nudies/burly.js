/*! burly.js 2015-10-27 */
!function(a){"use strict";function b(a,b,c){this.re=/\{\{\s*(\w+)\s*\}\}/g,this.re2=/\{\{\s*(\w+)\s*\}\}/,this.safe=["PRE","CODE"],this.root=!1,this.nodes={},this.token=0,this.run(a,b,c)}function c(){var a;a={},this.build=function(c,d,e){var f;"undefined"==typeof e&&(e=!1),a[c]?a[c].update(c,d,e):(f=new b(c,d,e),a[c]=f)}}var d={};"undefined"!==a.QUnit&&(a.Bind=b,a.Bind_factory=c),b.prototype.update=function(a,b,c){this.run(a,b,c)},b.prototype.regex_check=function(a,b){a.childNodes[b].nodeValue&&a.childNodes[b].nodeValue.match(this.re)&&(this.nodes[this.token]={el:a,binding:a.childNodes[b].nodeValue.match(this.re),origin:a.childNodes[b].nodeValue,key:b},++this.token)},b.prototype.traverse_DOM=function(a){for(var b=0;b<a.childNodes.length;b++)"#text"===a.childNodes[b].nodeName&&this.regex_check(a,b);for(var c=0;c<a.childElementCount;c++)-1===this.safe.indexOf(a.children[c].nodeName)&&this.traverse_DOM(a.children[c])},b.prototype.bind_data=function(a){var b;for(var c in this.nodes){b=this.nodes[c].key,this.nodes[c].el.childNodes[b].nodeValue=this.nodes[c].origin;for(var d=0;d<this.nodes[c].binding.length;d++)this.nodes[c].el.childNodes[b].nodeValue=this.nodes[c].el.childNodes[b].nodeValue.replace(this.re2.exec(this.nodes[c].binding[d])[0],a[this.re2.exec(this.nodes[c].binding[d])[1]])}},b.prototype.run=function(a,b,c){var d;if(!this.root){d=document.querySelectorAll("[data-bind]");for(var e=0;e<d.length;e++)d[e].dataset.bind===a&&(this.root=d[e])}if(!this.root)throw"undefined scope: "+a;this.root&&!this.nodes.length&&this.traverse_DOM(this.root),this.bind_data(b),c&&(console.log("Name: ",this.root.dataset.bind),console.log("Target: ",this.root),console.log("Nodes: ",this.nodes),console.log("Data: ",b))};var e=new c;d.render=function(a,b,c){e.build(a,b,c)},a.Burly=d}(this);