/*! burly.js 2016-03-25 */
!function(a){"use strict";function b(a){return a.match(h)}function c(a,b){for(var c=a.split("."),d=b,e=0;e<c.length;e++)d=d[c[e]];return d}function d(a,b,c){this.root=!1,this.nodes={},this.token=0,this.run(a,b,c)}function e(){var a={};this.build=function(b,c,e){var f;e!==!0&&(e=!1),a[b]?a[b].update(b,c,e):(f=new d(b,c,e),a[b]=f)}}var f={},g=["PRE","CODE"],h=/\{\{\s*(\S+)\s*\}\}/g,i=/\{\{\s*(\S+)\s*\}\}/;"undefined"!==a.QUnit&&(a.Bind=d,a.BindFactory=e,a.Util={curlyRe:b,getValue:c}),d.prototype.update=function(a,b,c){this.run(a,b,c)},d.prototype.nodeBuilder=function(a,c){var d=a.childNodes[c].nodeValue;d&&b(d)&&(this.nodes[this.token]={el:a,binding:b(d),origin:d,key:c},++this.token)},d.prototype.traverseDOM=function(a){for(var b=0;b<a.childNodes.length;b++)"#text"===a.childNodes[b].nodeName&&this.nodeBuilder(a,b);for(var c=0;c<a.childElementCount;c++)-1===g.indexOf(a.children[c].nodeName)&&this.traverseDOM(a.children[c])},d.prototype.bindData=function(a){var b,d,e;for(var f in this.nodes){b=this.nodes[f],d=b.key,b.el.childNodes[d].nodeValue=b.origin;for(var g=0;g<b.binding.length;g++)e=i.exec(b.binding[g]),b.el.childNodes[d].nodeValue=b.el.childNodes[d].nodeValue.replace(e[0],c(e[1],a))}},d.prototype.run=function(a,b,c){var d;if(!this.root){d=document.querySelectorAll("[data-bind]");for(var e=0;e<d.length;e++)d[e].dataset.bind===a&&(this.root=d[e])}if(!this.root)throw"undefined view: "+a;this.root&&!this.nodes.length&&this.traverseDOM(this.root),this.bindData(b),c&&(console.log("Name: ",this.root.dataset.bind),console.log("Target: ",this.root),console.log("Nodes: ",this.nodes),console.log("Data: ",b))};var j=new e;f.render=function(a,b,c){j.build(a,b,c)},a.Burly=f}(this);