/*! burly.js 2015-10-21 */
!function(a){"use strict";function b(a,b,c){var d,e,f;d=this,e=/\{\{\s*(\w+)\s*\}\}/g,f=/\{\{\s*(\w+)\s*\}\}/,d.root=!1,d.nodes={},d.token=0,d.update=function(a,b,c){d.run(a,b,c)},d.regex_check=function(a){a.childNodes.length&&a.childNodes[0].nodeValue.match(e)&&(d.nodes[d.token]={el:a,binding:a.innerHTML.match(e),origin:a.innerHTML},++d.token)},d.traverse_DOM=function(a){if(0===a.childElementCount)d.regex_check(a);else for(var b=0;b<a.childElementCount;b++)d.traverse_DOM(a.children[b])},d.bind_data=function(a){for(var b in d.nodes){d.nodes[b].el.innerHTML=d.nodes[b].origin;for(var c=0;c<d.nodes[b].binding.length;c++)d.nodes[b].el.innerHTML=d.nodes[b].el.innerHTML.replace(f.exec(d.nodes[b].binding[c])[0],a[f.exec(d.nodes[b].binding[c])[1]])}},d.run=function(a,b,c){var e;if(!d.root){e=document.querySelectorAll("[data-bind]");for(var f=0;f<e.length;f++)e[f].dataset.bind===a&&(d.root=e[f])}if(!d.root)throw"undefined scope: "+a;d.root&&!d.nodes.length&&d.traverse_DOM(d.root),d.bind_data(b),c&&(console.log("Name: ",d.root.dataset.bind),console.log("Target: ",d.root),console.log("Nodes: ",d.nodes),console.log("Data: ",b))},d.run(a,b,c)}function c(){var a;a={},this.build=function(c,d,e){var f;"undefined"==typeof e&&(e=!1),a[c]?a[c].update(c,d,e):(f=new b(c,d,e),a[c]=f)}}var d={};"undefined"!=typeof exports&&(exports.Burly=d,exports.Bind=b,exports.Bind_factory=c);var e=new c;d.render=function(a,b,c){e.build(a,b,c)},a.Burly=d}(this);